execute if entity @s[nbt={Inventory:[{Slot: 103b, id: "minecraft:brick", tag:{hat.baker:1b}}]}] run give @s minecraft:cake

recipe take @s minecraft:cake.h
advancement revoke @s only hattery:check_cake_craft